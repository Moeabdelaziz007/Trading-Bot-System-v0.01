name = "trading-brain-v1"
main = "src/worker.py"
account_id = "f4b5d0354439ce71e91063e477b4d60c" 
compatibility_date = "2024-04-05"
compatibility_flags = ["python_workers"]

# ðŸŒ Deploy to workers.dev (no custom domain needed)
workers_dev = true

# â° THE HEARTBEAT: Runs every 1 minute (Zero Cost)
[triggers]
crons = ["* * * * *"]

# ðŸ§  MEMORY: KV Namespace
[[kv_namespaces]]
binding = "BRAIN_MEMORY"
id = "b2623ff0d28342c799dae14fae4eb512"

# ðŸ’¾ DATABASE: D1 (SQLite at Edge)
[[d1_databases]]
binding = "TRADING_DB"
database_name = "trading-brain-db"

# ðŸ”‘ Environment Variables
[vars]
ABLY_API_KEY = "-psacw.I6fnWw:m-zRcRM-3k5UwuiAKHeP8CJ3N1DWSMPQTorXy3pbLp8"
CAPITAL_DEMO = "true"
# Secrets (Set via `wrangler secret put` or Dashboard):
# GROQ_API_KEY
# DEEPSEEK_API_KEY    (from platform.deepseek.com)
# ALPACA_KEY
# ALPACA_SECRET
# CAPITAL_API_KEY     (from Capital.com Settings > API Integrations)
# CAPITAL_EMAIL       (your Capital.com login email)
# CAPITAL_PASSWORD    (your API custom password)

